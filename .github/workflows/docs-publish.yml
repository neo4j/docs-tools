
name: "Publish Branch"

on:
  push:
    branches:
    - 'dev'
  workflow_dispatch:
  # schedule:
  #   - cron:  '00 16 * * *'

jobs:

  # docs-build:
  #   name: Generate HTML
  #   uses: neo4j/docs-tools/.github/workflows/reusable-docs-build.yml@dev
  #   with:
  #     retain-artifacts: 14
  #     deploy-id: 0
  #     package-script: 'publish-verify'
  #     cli-options: '--extension ./.docs-tools/extensions/antora/aliases-redirects'

  # docs-verify:
  #   name: Verify HTML
  #   needs: docs-build
  #   uses: neo4j/docs-tools/.github/workflows/reusable-docs-verify.yml@dev
  #   with:
  #     failOnWarnings: true

  publish:
    # needs: docs-verify
    uses: peter-evans/repository-dispatch@main
    with:
      token: ${{ secrets.DISPATCH_TOKEN }}
      repository: neo4j/docs-publish
      event-type: docs-tools